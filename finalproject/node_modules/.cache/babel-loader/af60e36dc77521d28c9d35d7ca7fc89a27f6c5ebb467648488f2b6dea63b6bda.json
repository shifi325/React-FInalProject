{"ast":null,"code":"import { createSlice, nanoid, createAsyncThunk } from '@reduxjs/toolkit';\nimport { getOrders, getOrderByIdA, postOrderA, deleteOrderA } from './OrderApi';\nconst initialState = {\n  arrOrders: [],\n  price: 0,\n  cart: []\n};\nexport const fetchAllOrders = createAsyncThunk('order/fetchAllOrders', async thunkAPI => {\n  const res = await getOrders();\n  return res;\n});\nexport const getOrderById = createAsyncThunk('order/getOrderById', async (id, thunkAPI) => {\n  const res = await getOrderByIdA(id);\n  return res;\n});\nexport const postOrder = createAsyncThunk('order/postOrder', async (newOrder, thunkAPI) => {\n  const res = await postOrderA(newOrder);\n  return res;\n});\nexport const OrderSlice = createSlice({\n  name: 'order',\n  initialState,\n  reducers: {},\n  extraReducers: builder => {\n    builder.addCase(fetchAllOrders.fulfilled, (state, {\n      payload\n    }) => {\n      state.arrOrders = payload;\n      state.status = \"fullfilled\";\n    })\n    // You can chain calls, or have separate `builder.addCase()` lines each time\n    .addCase(fetchAllOrders.pending, (state, action) => {\n      state.status = \"pending\";\n    }).addCase(fetchAllOrders.rejected, (state, action) => {\n      state.status = \"rejected\";\n    }).addCase(postOrder.fulfilled, (state, {\n      payload\n    }) => {\n      state.currentOrder = payload;\n      state.status = \"fullfilled\";\n      console.log(state.currentOrder);\n    });\n  }\n});\n\n// export const {  updateProduct } = OrderSlice.actions\n\nexport default OrderSlice.reducer;","map":{"version":3,"names":["createSlice","nanoid","createAsyncThunk","getOrders","getOrderByIdA","postOrderA","deleteOrderA","initialState","arrOrders","price","cart","fetchAllOrders","thunkAPI","res","getOrderById","id","postOrder","newOrder","OrderSlice","name","reducers","extraReducers","builder","addCase","fulfilled","state","payload","status","pending","action","rejected","currentOrder","console","log","reducer"],"sources":["C:/Users/שיפי וינגרטן/Pictures/Saved Pictures/סמינר/כיתה יד/תכנות/react/פרויקט/finalproject/src/components/features/Order/OrderSlice.js"],"sourcesContent":["import { createSlice, nanoid ,createAsyncThunk } from '@reduxjs/toolkit'\r\nimport { getOrders,getOrderByIdA,postOrderA,deleteOrderA } from './OrderApi'\r\n\r\nconst initialState = {\r\n    arrOrders: [],\r\n    price:0,\r\n    cart:[]\r\n}\r\n\r\nexport const fetchAllOrders = createAsyncThunk(\r\n    'order/fetchAllOrders',\r\n    async (thunkAPI) => {\r\n        const res = await getOrders()\r\n        return res\r\n    },\r\n)\r\n\r\nexport const getOrderById = createAsyncThunk(\r\n    'order/getOrderById',\r\n    async (id,thunkAPI) => {\r\n        const res = await getOrderByIdA(id)\r\n        return res\r\n    },\r\n)\r\n\r\nexport const postOrder = createAsyncThunk(\r\n    'order/postOrder',\r\n    async (newOrder,thunkAPI) => {\r\n        const res = await postOrderA(newOrder)\r\n        return res\r\n    },\r\n)\r\n\r\n\r\nexport const OrderSlice = createSlice({\r\n    name: 'order',\r\n    initialState,\r\n    reducers: {\r\n       \r\n    },\r\n    extraReducers: (builder) => {\r\n        builder\r\n        .addCase(fetchAllOrders.fulfilled, (state, { payload }) => {\r\n            state.arrOrders = payload\r\n            state.status = \"fullfilled\"\r\n        })\r\n        // You can chain calls, or have separate `builder.addCase()` lines each time\r\n        .addCase(fetchAllOrders.pending, (state, action) => {\r\n            state.status = \"pending\"\r\n        })\r\n        .addCase(fetchAllOrders.rejected, (state, action) => {\r\n            state.status = \"rejected\"\r\n        })\r\n        .addCase(postOrder.fulfilled, (state, {payload}) => {\r\n            state.currentOrder = payload\r\n            state.status = \"fullfilled\"\r\n            console.log(state.currentOrder)\r\n        })\r\n\r\n    },\r\n})\r\n\r\n\r\n// export const {  updateProduct } = OrderSlice.actions\r\n\r\nexport default OrderSlice.reducer"],"mappings":"AAAA,SAASA,WAAW,EAAEC,MAAM,EAAEC,gBAAgB,QAAQ,kBAAkB;AACxE,SAASC,SAAS,EAACC,aAAa,EAACC,UAAU,EAACC,YAAY,QAAQ,YAAY;AAE5E,MAAMC,YAAY,GAAG;EACjBC,SAAS,EAAE,EAAE;EACbC,KAAK,EAAC,CAAC;EACPC,IAAI,EAAC;AACT,CAAC;AAED,OAAO,MAAMC,cAAc,GAAGT,gBAAgB,CAC1C,sBAAsB,EACtB,MAAOU,QAAQ,IAAK;EAChB,MAAMC,GAAG,GAAG,MAAMV,SAAS,CAAC,CAAC;EAC7B,OAAOU,GAAG;AACd,CACJ,CAAC;AAED,OAAO,MAAMC,YAAY,GAAGZ,gBAAgB,CACxC,oBAAoB,EACpB,OAAOa,EAAE,EAACH,QAAQ,KAAK;EACnB,MAAMC,GAAG,GAAG,MAAMT,aAAa,CAACW,EAAE,CAAC;EACnC,OAAOF,GAAG;AACd,CACJ,CAAC;AAED,OAAO,MAAMG,SAAS,GAAGd,gBAAgB,CACrC,iBAAiB,EACjB,OAAOe,QAAQ,EAACL,QAAQ,KAAK;EACzB,MAAMC,GAAG,GAAG,MAAMR,UAAU,CAACY,QAAQ,CAAC;EACtC,OAAOJ,GAAG;AACd,CACJ,CAAC;AAGD,OAAO,MAAMK,UAAU,GAAGlB,WAAW,CAAC;EAClCmB,IAAI,EAAE,OAAO;EACbZ,YAAY;EACZa,QAAQ,EAAE,CAEV,CAAC;EACDC,aAAa,EAAGC,OAAO,IAAK;IACxBA,OAAO,CACNC,OAAO,CAACZ,cAAc,CAACa,SAAS,EAAE,CAACC,KAAK,EAAE;MAAEC;IAAQ,CAAC,KAAK;MACvDD,KAAK,CAACjB,SAAS,GAAGkB,OAAO;MACzBD,KAAK,CAACE,MAAM,GAAG,YAAY;IAC/B,CAAC;IACD;IAAA,CACCJ,OAAO,CAACZ,cAAc,CAACiB,OAAO,EAAE,CAACH,KAAK,EAAEI,MAAM,KAAK;MAChDJ,KAAK,CAACE,MAAM,GAAG,SAAS;IAC5B,CAAC,CAAC,CACDJ,OAAO,CAACZ,cAAc,CAACmB,QAAQ,EAAE,CAACL,KAAK,EAAEI,MAAM,KAAK;MACjDJ,KAAK,CAACE,MAAM,GAAG,UAAU;IAC7B,CAAC,CAAC,CACDJ,OAAO,CAACP,SAAS,CAACQ,SAAS,EAAE,CAACC,KAAK,EAAE;MAACC;IAAO,CAAC,KAAK;MAChDD,KAAK,CAACM,YAAY,GAAGL,OAAO;MAC5BD,KAAK,CAACE,MAAM,GAAG,YAAY;MAC3BK,OAAO,CAACC,GAAG,CAACR,KAAK,CAACM,YAAY,CAAC;IACnC,CAAC,CAAC;EAEN;AACJ,CAAC,CAAC;;AAGF;;AAEA,eAAeb,UAAU,CAACgB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}